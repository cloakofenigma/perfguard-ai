<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineVault - Top Movies Collection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">üé¨ CineVault</h1>
                <nav class="nav">
                    <a href="/" class="nav-link active">Home</a>
                    <a href="#top-rated" class="nav-link">Top Rated</a>
                    <a href="#" class="nav-link">Genres</a>
                </nav>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search movies..." class="search-input">
                    <button class="search-btn">üîç</button>
                </div>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h2 class="hero-title">Discover Amazing Movies</h2>
            <p class="hero-subtitle">Your curated collection of cinematic masterpieces</p>
        </div>
    </section>

    <main class="main-content">
        <div class="container">
            <section class="movies-section">
                <h2 class="section-title">Featured Movies</h2>
                <div class="movies-grid">
                    {% for movie in movies %}
                    <div class="movie-card" data-rating="{{ movie.rating }}">
                        <div class="movie-poster">
                            <img src="{{ movie.thumbnail }}" alt="{{ movie.title }}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x450?text={{ movie.title }}'">
                            <div class="movie-overlay">
                                <a href="/movie/{{ movie.id }}" class="view-details-btn">View Details</a>
                            </div>
                        </div>
                        <div class="movie-info">
                            <h3 class="movie-title">{{ movie.title }}</h3>
                            <div class="movie-meta">
                                <span class="movie-year">{{ movie.year }}</span>
                                <span class="movie-rating">‚≠ê {{ movie.rating }}</span>
                            </div>
                            <div class="movie-genres">
                                {% for genre in movie.genre[:3] %}
                                <span class="genre-tag">{{ genre }}</span>
                                {% endfor %}
                            </div>
                            <p class="movie-director">Dir: {{ movie.director }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 class="stat-number">{{ movies|length }}</h3>
                        <p class="stat-label">Total Movies</p>
                    </div>
                    <div class="stat-card">
                        <h3 class="stat-number">{{ movies|map(attribute='rating')|list|max }}</h3>
                        <p class="stat-label">Highest Rating</p>
                    </div>
                    <div class="stat-card">
                        <h3 class="stat-number">15+</h3>
                        <p class="stat-label">Languages</p>
                    </div>
                    <div class="stat-card">
                        <h3 class="stat-number">50+</h3>
                        <p class="stat-label">Awards Won</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 CineVault. All rights reserved. | Powered by PerfGuard AI</p>
        </div>
    </footer>

    <script>
        // Simple search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            const movieCards = document.querySelectorAll('.movie-card');

            movieCards.forEach(card => {
                const title = card.querySelector('.movie-title').textContent.toLowerCase();
                if (title.includes(query)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Add hover effects
        document.querySelectorAll('.movie-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px) scale(1.02)';
            });

            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Loading animation
        window.addEventListener('load', () => {
            document.querySelectorAll('.movie-card').forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 50);
            });
        });
    </script>
</body>
</html>
